NUM_OF_THEMES=39
validate_source_dir  $SOURCE_DIRECTORY &&
mk_source_dir        $SOURCE_DIRECTORY &&
cd                   $SOURCE_DIRECTORY &&
unpack               $SOURCE
for((theme_num=1; theme_num<=$NUM_OF_THEMES; theme_num++))
do
  src_var_name="SOURCE$theme_num"
  unpack               ${!src_var_name}
done

#Remove Non theme files
find $SOURCE_DIRECTORY -type f -name '*theme*' -a ! -name theme -a ! -name '*.png' -exec rm '{}' \;
find $SOURCE_DIRECTORY -type d -name .xvpics -exec rm -Rf '{}' \; 2>/dev/null
find $SOURCE_DIRECTORY -type f -name 'Makefile*' -exec rm -f '{}' \;
find $SOURCE_DIRECTORY -type f -name '.*' -exec rm -f '{}' \;
rm -f $SOURCE_DIRECTORY/exhaustive/lt_purple.tar
rm -f $SOURCE_DIRECTORY/Flat/emoticons.xml
rm -f $SOURCE_DIRECTORY/gangsta_gaim/Thumbs.db
rm -f $SOURCE_DIRECTORY/gnu-smileys-1.0/{README,COPYING}
rm -f $SOURCE_DIRECTORY/JimmacGaim/screenshot.png
rm -f $SOURCE_DIRECTORY/nis/LICENSE
rm -f $SOURCE_DIRECTORY/trilliansmileys.0.1/README
rm -f $SOURCE_DIRECTORY/tweak/README
