From bb810fffd7818276394f9eebdfa7a8f1a6ce508a Mon Sep 17 00:00:00 2001
From: skeptycal <skeptycal@gmail.com>
Date: Wed, 27 Nov 2019 21:56:24 -0600
Subject: [PATCH 1/3] add .vscode to .gitignore

---
 .gitignore | 2 ++
 1 file changed, 2 insertions(+)

diff --git a/.gitignore b/.gitignore
index 3a74f52f..889b2d4b 100644
--- a/.gitignore
+++ b/.gitignore
@@ -1,3 +1,4 @@
+.gitignore
 *.pyc
 *.pyo
 /MANIFEST
@@ -8,6 +9,7 @@
 /src/docstrings.h
 /tests/tmp
 /tests/fake-curl/libcurl/*.so
+/.vscode
 /www/htdocs/download/*.bz2
 /www/htdocs/download/*.exe
 /www/htdocs/download/*.gz

From 6309ffd8f555bfb0e0f8dae2e1c2ad03de22b503 Mon Sep 17 00:00:00 2001
From: skeptycal <skeptycal@gmail.com>
Date: Wed, 27 Nov 2019 22:08:10 -0600
Subject: [PATCH 2/3] per python 3.8: add #define PY_SSIZE_T_CLEAN

add #define PY_SSIZE_T_CLEAN (python 3.8 changes: bpo-36381: Raise ``DeprecationWarning`` when '#' formats are used for building or parsing values without ``PY_SSIZE_T_CLEAN`` (https://docs.python.org/3/whatsnew/3.8.html#changes-in-the-c-api)
---
 src/pycurl.h | 1 +
 1 file changed, 1 insertion(+)

diff --git a/src/pycurl.h b/src/pycurl.h
index 092387f0..02db4953 100644
--- a/src/pycurl.h
+++ b/src/pycurl.h
@@ -1,6 +1,7 @@
 #if (defined(_WIN32) || defined(__WIN32__)) && !defined(WIN32)
 #  define WIN32 1
 #endif
+#define PY_SSIZE_T_CLEAN
 #include <Python.h>
 #include <pythread.h>
 #include <stddef.h>

From e484619df9223d579cf5d7e4abf019c06a5ee5ee Mon Sep 17 00:00:00 2001
From: Michael Treanor <26148512+skeptycal@users.noreply.github.com>
Date: Thu, 5 Dec 2019 00:35:04 -0600
Subject: [PATCH 3/3] Update .gitignore

---
 .gitignore | 2 --
 1 file changed, 2 deletions(-)

diff --git a/.gitignore b/.gitignore
index 889b2d4b..3a74f52f 100644
--- a/.gitignore
+++ b/.gitignore
@@ -1,4 +1,3 @@
-.gitignore
 *.pyc
 *.pyo
 /MANIFEST
@@ -9,7 +8,6 @@
 /src/docstrings.h
 /tests/tmp
 /tests/fake-curl/libcurl/*.so
-/.vscode
 /www/htdocs/download/*.bz2
 /www/htdocs/download/*.exe
 /www/htdocs/download/*.gz
