From 281402e4e28a67da9d4075d9faec03da2386c0ba Mon Sep 17 00:00:00 2001
From: Sorin Sbarnea <ssbarnea@redhat.com>
Date: Sat, 22 May 2021 12:15:47 +0100
Subject: [PATCH] Fix 32 exclude paths limit

Fixes: #1574
---
 src/ansiblelint/file_utils.py | 4 +++-
 1 file changed, 3 insertions(+), 1 deletion(-)

diff --git a/src/ansiblelint/file_utils.py b/src/ansiblelint/file_utils.py
index 322754eb0..323f32719 100644
--- a/src/ansiblelint/file_utils.py
+++ b/src/ansiblelint/file_utils.py
@@ -227,7 +227,9 @@ def discover_lintables(options: Namespace) -> Dict[str, Any]:
     if out is None:
         exclude_pattern = "|".join(str(x) for x in options.exclude_paths)
         _logger.info("Looking up for files, excluding %s ...", exclude_pattern)
-        out = WcMatch('.', exclude_pattern=exclude_pattern, flags=RECURSIVE).match()
+        out = WcMatch(
+            '.', exclude_pattern=exclude_pattern, flags=RECURSIVE, limit=256
+        ).match()
 
     return OrderedDict.fromkeys(sorted(out))
 
